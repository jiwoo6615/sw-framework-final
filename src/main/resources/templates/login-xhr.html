<!DOCTYPE html>
<html lang="ko">

<head>
	<title>Login</title>
	<meta charset="UTF-8">

	</head>
	<body>
		<div class="login-box">
			<form id="login_form">
				<label for="userid">아이디</label>
				<input type="text" id="userid" name="userid" required value="" /><br />

				<label for="password">비밀번호</label>
				<input type="hidden" id="password" name="password" required value="" /><br /><br /><br />
				
				<label for="username">이름</label>
				<input type="text" id="username" name="username" required value="" /><br /><br /><br />
								
				<label for="useremail">이메일</label>
				<input type="text" id="useremail" name="useremail" required value="" /><br /><br /><br />

				<button type="submit">로그인</button>
			</form>
			<div class="message" id="login_message"></div>
		</div>
	</body>
	<script>
		document.querySelector('#login_form').addEventListener('submit', function(event) {
			event.preventDefault();
			var userid = document.querySelector('#userid').value;
			var password = document.querySelector('#password').value;
			var username = document.querySelector('#username').value;
			var useremail = document.querySelector('#useremail').value;
			
			// 서버 전송
			var xhr = new XMLHttpRequest();
			xhr.open('POST', '/login/request-login');
			xhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');
			// 전송 후의 처리 함수를 정의
			xhr.onreadystatechange = function () {
				if (xhr.readyState == XMLHttpRequest.DONE) {
					if (xhr.status == 200) {
						document.querySelector('#login_message').innerHTML = '회원가입 성공';
					}	
					
				}
			};
			
			// 전송
			xhr.send(JSON.stringify({userid: userid, password:password, username: userame, useremail: useremail}));
			
		});
	</script>

	</html>